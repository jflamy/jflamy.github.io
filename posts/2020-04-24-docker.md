# Debugging Docker containers

*Posted on April 24, 2020*

Trying to learn Kubernetes and Docker without a purpose is not terribly motivating. My weightlifting application is getting to be mature, and with the current confinement, I've been asked to consider running virtual competitions. This has in turn sparked my interest: how would I refactor the application to be less of a traditional monolith, and run in separate containers, say one per gym, and yet all could talk to each other using something like Hazelcast or RabbitMQ.

But first things first. Many things are assumed to be obvious.

## How to inspect a container that won't start

1. Make sure there is a shell inside the image used as a base. This is the case for common non-optimized java images, such as `adoptopenjdk/openjdk8:latest`

2. When starting a uberjar, the entrypoint is the java command. If (as I did) you are not providing the correct jar, and the jar immediately crashes how do you get in to look?

3. The answer is to provide an alternate entry point, and to request interactive access, like so:

```bash
docker run -it --entrypoint="/bin/bash" myimage:latest
```